local boards = require 'boards'
local extents = require 'boards.extents'
local manipulation = require 'boards.manipulation'
local panelization = require 'boards.panelization'

local mm = 1e9

local simple = boards.load('./simple')
local simple180 = manipulation.rotate_board(simple, 180)

local simple_extents = extents.compute_board_extents(simple)
local width = simple_extents.width * 2 + 2*mm
local height = simple_extents.height * 2 + 14*mm
local tabh = panelization.empty_board(width, 10*mm)
local tabv = panelization.empty_board(10*mm, height)

local layout = { tabv, {
	{ simple, simple180 },
	tabh,
	{ simple, simple180 },
}, tabv }

local panel = panelization.panelize(layout, {}, false)

boards.merge_apertures(panel)
boards.save(panel, './panel-layout')

-- vi: ft=lua
